meta {
  name: Henter seneste test resultat
  type: http
}

get {
  url: {{baseUrl}}/api/BrunoTestResults/latest
  body: none
  auth: none
}

headers {
  Content-Type: application/json
}

tests {
  test("Status kode skal være 200 OK", function() {
    expect(res.getStatus()).to.equal(200);
  });
  
  test("Response skal være et objekt", function() {
    expect(res.getBody()).to.be.an('object');
  });
  
  test("Response skal have Summary objekt", function() {
    expect(res.getBody().Summary).to.be.an('object');
  });
  
  test("Response skal have Results array", function() {
    expect(res.getBody().Results).to.be.an('array');
  });
  
  test("Summary skal have test statistikker", function() {
    expect(res.getBody().Summary).to.have.property('TotalRequests');
    expect(res.getBody().Summary).to.have.property('PassedRequests');
    expect(res.getBody().Summary).to.have.property('TotalTests');
    expect(res.getBody().Summary).to.have.property('PassedTests');
  });
  
  test("Response tid skal være under 1 sekund", function() {
    expect(res.getResponseTime()).to.be.below(1000);
  });
}
